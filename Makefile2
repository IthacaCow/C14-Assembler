
CPPFLAGS = -std=c++11 -g

all: main.o

phase1.cpp phase1.hpp: phase1.y
	bison -d phase1.y -o phase1.cpp

lexer.cpp: lexer.l phase1.hpp
	flex -o lexer.cpp lexer.l 

main.o: main.cpp phase1.cpp phase1.hpp lexer.cpp identifier.hpp
	g++ $(CPPFLAGS) main.cpp phase1.cpp lexer.cpp -o main.o
# main.o: main.cpp phase1.cpp
	# g++ $(CPPFLAGS) main.cpp phase1.cpp lexer.cpp -o main.o
# lexer.o: lexer.cpp phase1.hpp
	# g++ $(CPPFLAGS) lexer.cpp phase1.cpp -o lexer.o
# phase1.o: phase1.cpp identifier.hpp
	# g++ $(CPPFLAGS) phase1.cpp -o phase1.o
# parser: main.o lexer.o phase1.o
	# g++ -o parser phase1.o lexer.o main.o 
clean:
	rm *.o phase1.cpp phase1.hpp lexer.cpp
